(()=>{"use strict";$(document).ready((function(){$(".single__button, .main-block__button, .main-contacts__button").click((function(){$(".form-popup").fadeIn(),$("body").addClass("_lock")})),$(".form-popup__close").click((function(){$(".form-popup").fadeOut(),$("body").removeClass("_lock")}))})),$(document).ready((function(){$(".menu__icon").click((function(){$(".menu__body").toggleClass("show"),$(this).toggleClass("show")}))})),$(document).ready((function(){$(".usluga-filters-icon").click((function(){$(".usluga-filters").toggleClass("open")}))})),$(document).ready((function(){$(".usluga-filter__select").click((function(){$(".usluga-filter__list").not($(this).find(".usluga-filter__list")).slideUp(),$(".usluga-filter__select").not($(this)).removeClass("rotate"),$(this).find(".usluga-filter__list").slideToggle(),$(this).toggleClass("rotate")})),$(".usluga-filter__list li").click((function(e){e.stopPropagation();var t=$(this).text(),i=$(this).closest(".usluga-filter__select");i.find(".usluga-filter__selected-option").text(t),i.find(".usluga-filter__list").slideUp(),i.removeClass("rotate")})),$(".usluga-filter__select-list").change((function(){var e=$(this).val();$(this).closest(".usluga-filter").find(".usluga-filter__selected-option").text(e)})),$(document).click((function(e){$(e.target).closest(".usluga-filter__select").length||($(".usluga-filter__list").slideUp(),$(".usluga-filter__select").removeClass("rotate"))}))})),$(document).ready((function(){$(".header__lang-mobile").click((function(e){e.stopPropagation(),$(".header-lang__list").not($(this).find(".header-lang__list")).slideUp(),$(this).find(".header-lang__list").slideToggle()})),$(".header-lang__list li").click((function(e){e.stopPropagation();var t=$(this).find("img").attr("src"),i=$(this).closest(".header__lang-mobile");i.find(".header-lang__selected-option img").attr("src",t),i.find(".header-lang__list").slideUp()})),$(document).click((function(e){$(e.target).closest(".header__lang-mobile").length||$(".header-lang__list").slideUp()}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("price-slider"),t=document.getElementById("price-min"),i=document.getElementById("price-max"),l=$(".usluga__item"),n=$(".usluga__more");let o=9;if(e){noUiSlider.create(e,{start:[32e4,999e3],connect:!0,range:{min:32e4,max:999e3},step:1e3}),e.noUiSlider.on("update",(function(e){const l=Math.round(e[0]),n=Math.round(e[1]);t.textContent=s(l),i.textContent=s(n),a(l,n)}));const l=e.noUiSlider.get();a(Math.round(l[0]),Math.round(l[1]))}function s(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function a(e,t){let i=[],s=$(".usluga-filter.filter-location .usluga-filter__selected-option").data("option"),a=$(".usluga-filter.filter-area .usluga-filter__selected-option").data("option"),r=$(".usluga-filter.filter-room .usluga-filter__selected-option").data("option"),u=$(".usluga-filter.filter-type .usluga-filter__selected-option").data("option");l.each((function(){const l=parseInt($(this).data("price"),10),n=$(this).data("city"),o=$(this).data("area"),c=$(this).data("room"),p=$(this).data("type");!(l>=e&&l<=t)||"all"!==s&&n!==s||"all"!==a&&o!=a||"all"!==r&&c!=r||"all"!==u&&p!==u?($("body").addClass("filter"),setTimeout((function(){$("body").removeClass("filter")}),600),$(this).fadeOut(300)):i.push(this)})),i.forEach(((e,t)=>{t<9?$(e).fadeIn(500):$(e).fadeOut(500)})),o=Math.min(9,i.length),i.length>o?n.fadeIn(300):n.fadeOut(300),0===i.length?$(".usluga__none-posts").addClass("show"):$(".usluga__none-posts").removeClass("show")}n.on("click",(function(){l.filter(":visible").length,l.filter(":hidden").slice(0,3).slideDown(),o+=3,o>=l.length&&n.hide()})),$(".usluga-filter__list li").on("click",(function(){$(this).parent().data("filterType");const e=$(this).data("filter");$(this).closest(".usluga-filter__select").find(".usluga-filter__selected-option").text($(this).text()).data("option",e),a(parseInt($("#price-min").text().replace(".",""),10),parseInt($("#price-max").text().replace(".",""),10))})),a(parseInt($("#price-min").text().replace(".",""),10),parseInt($("#price-max").text().replace(".",""),10))}));var e=new Swiper(".mySwiper",{loop:!1,spaceBetween:5,slidesPerView:7,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper2",{loop:!1,spaceBetween:5,speed:1e3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:e}}),$(document).ready((function(){let e;$(".mySwiper2 .swiper-slide img").on("click",(function(){$("body").addClass("_lock");const t=$(".mySwiper2 .swiper-slide img").map((function(){return $(this).attr("src")})).get(),i=$(this).parent().index();$(".popupSwiper .swiper-wrapper").empty(),t.forEach((e=>{$(".popupSwiper .swiper-wrapper").append(`\n                <div class="swiper-slide">\n                    <img src="${e}" />\n                </div>\n            `)})),e?e.update():e=new Swiper(".popupSwiper",{speed:1e3,navigation:{nextEl:".popup-button-next",prevEl:".popup-button-prev"},loop:!0}),e.slideTo(i),$(".image-popup").fadeIn()})),$(".popup-close, .image-popup").on("click",(function(e){($(e.target).is(".popup-close")||$(e.target).is(".image-popup"))&&($(".image-popup").fadeOut(),$("body").removeClass("_lock"))}))})),function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();